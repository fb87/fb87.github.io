<!doctype html><html lang="en" ng-app="Blog"><head><meta charset="UTF-8"><meta name="description" content="My Personal Blog"><meta name="keywords" content="blog, shell, linux, dev, coding"><meta name="author" content="Si Dao"><meta name="viewport" content="width=device-width,initial-scale=1"><title>NIX shell for Flutter Linux development...</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Glass+Antiqua&family=Wellfleet&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css"><link rel="stylesheet" href="/style/css/index.css"><script language="Javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.js"></script><link rel="stylesheet" href="https://unpkg.com/speedlify-score@1.0.2/speedlify-score.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/speedlify-score@1.0.2/speedlify-score.js" async defer="defer"></script></head><body><div ng-controller="ngPostFilterController"><h2>/DOC/(S)</h2><blockquote><p><small>[~] learn and share...</small></p></blockquote><div class="row" style="width: 100%; align-items:center; display: flex;"><div class="column column-80"><a style="padding-right: 5px; padding-right: 5px;" href="/">HOME</a> / <a style="padding-right: 5px; padding-right: 5px;" href="/posts">ARCHIVE</a> / <a style="padding-right: 5px; padding-right: 5px;" href="/about">ABOUT</a></div><div class="column"><div class="row"><input type="text" size="20" style="float: right; margin-left: auto;" ng-model="search_tokens" placeholder="Search..."> <button ng-click="toogle_language()" ng-bind="is_en ? 'EN' : 'VI'"></button></div></div></div><hr><div style="min-height: 90%; width: 100%" ng-show="search_tokens.length > 0"><h2>[>] First 20 (max) topics found</h2><ol><li ng-show="lang == post.lang" width="100%" ng-repeat="post in all_titles | filter:search_tokens | limitTo:20"><span style="float: right;" ng-bind="post.date"></span> [~] <a style="text-decoration: none;" ng-href=" {{ post.url}} " ng-bind="post.title"></a></li></ol></div></div><header><h2>[:] NIX shell for Flutter Linux development...</h2></header><main><h3>Pre-require:</h3><ul><li>Get to know more about <strong>Flutter</strong>, check <a href="https://flutter.dev/">here</a></li><li>Get to know more about <strong>NIXOS</strong>, check <a href="https://nixos.org/manual/nixpkgs/stable/">here</a></li></ul><h3>Setup</h3><p>The <strong>shell.nix</strong> with content as below:</p><pre class="language-nix"><code class="language-nix"><span class="token comment"># ref: https://discourse.nixos.org/t/flutter-run-d-linux-build-process-failed/16552</span>
<span class="token keyword">with</span> <span class="token punctuation">(</span><span class="token function">import</span> <span class="token operator">&lt;</span>nixpkgs<span class="token operator">></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mkShell <span class="token punctuation">{</span>
  buildInputs <span class="token operator">=</span> <span class="token punctuation">[</span>
    at<span class="token operator">-</span>spi2<span class="token operator">-</span>core<span class="token punctuation">.</span>dev
    clang
    cmake
    dart
    dbus<span class="token punctuation">.</span>dev
    flutter
    gtk3
    libdatrie
    libepoxy<span class="token punctuation">.</span>dev
    libselinux
    libsepol
    libthai
    libxkbcommon
    ninja
    pcre
    pkg<span class="token operator">-</span>config
    util<span class="token operator">-</span>linux<span class="token punctuation">.</span>dev
    xorg<span class="token punctuation">.</span>libXdmcp
    xorg<span class="token punctuation">.</span>libXtst
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
  shellHook <span class="token operator">=</span> <span class="token string">''
    export LD_LIBRARY_PATH=<span class="token interpolation"><span class="token antiquotation important">$</span><span class="token punctuation">{</span>libepoxy<span class="token punctuation">}</span></span>/lib
  ''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>To use</p><pre class="language-bash"><code class="language-bash"><span class="token punctuation">[</span>user@localhost ~/sample <span class="token punctuation">]</span>$ nix-shell
<span class="token punctuation">[</span>shell - user@localhost ~/sample <span class="token punctuation">]</span>$ flutter create <span class="token parameter variable">--platforms</span><span class="token operator">=</span>linux
<span class="token punctuation">[</span>shell - user@localhost ~/sample <span class="token punctuation">]</span>$ flutter run <span class="token parameter variable">-d</span> linux</code></pre></main><hr><div ng-controller="ngCommentController"><a href="javascript:" ng-click="find_comment(1)">[ Show ]</a> comments<ul><li ng-repeat="comment in comments">[<a href="{{ comment.user.html_url }}" target="_blank">{{ comment.user.login }}</a> - {{ comment.updated_at }}] <a href="{{ comment.html_url }}" target="_blank">{{ comment.body }}</a></li></ul><p ng-bind="warn_message"></p><span ng-if="channel"><a href="{{ channel }}" target="_blank">[ Join ]</a> discussion</span></div><hr><div width="100%" style="text-align: right;"><speedlify-score speedlify-url="https://www.11ty.dev/speedlify" hash="1bb9ec60" score weight rank rank-change></speedlify-score><small style="color: grey; font-style: italic;">(C)2022 - dao [dot] singoc [dot] com</small></div><script language="Javascript" src="/style/js/index.min.js"></script></body></html>